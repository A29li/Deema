function changeImage(galleryId, step) {
    const gallery = document.getElementById(galleryId);
    // جلب جميع الصور داخل المعرض المحدد
    const images = gallery.querySelectorAll('img');
    let currentIndex = -1;

    // 1. تحديد وحذف الصورة النشطة الحالية
    images.forEach((img, index) => {
        if (img.classList.contains('active-img')) {
            currentIndex = index;
            img.classList.remove('active-img');
            img.classList.add('hidden-img'); // إخفاء الصورة القديمة
        }
    });

    let newIndex = currentIndex + step;

    // 2. ضمان أن الفهرس يبقى ضمن حدود عدد الصور
    if (newIndex >= images.length) {
        newIndex = 0; // العودة إلى الصورة الأولى
    } else if (newIndex < 0) {
        newIndex = images.length - 1; // الذهاب إلى الصورة الأخيرة
    }

    // 3. تعيين الصورة الجديدة كصورة نشطة
    if (images[newIndex]) {
        images[newIndex].classList.remove('hidden-img');
        images[newIndex].classList.add('active-img');
    }
}

// عند تحميل الصفحة، تأكد من إخفاء جميع الصور ما عدا الأولى في كل معرض
document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.image-gallery').forEach(gallery => {
        const images = gallery.querySelectorAll('img');
        images.forEach((img, index) => {
            if (index === 0) {
                img.classList.add('active-img');
            } else {
                img.classList.add('hidden-img');
            }
        });
    });
});
